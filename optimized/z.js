(function(e){var t=require("./g");e.ai||(e.ai={}),e.ai.zombie=function(n,r,i){i&&(e=i);var s={},o,u,a,f=r.id,l,c=99999;for(o in n.agents)a=n.agents[o],a.id!==f&&a.type==="human"&&(u=t.dist(a,r),u<r.visionRange&&u<c&&(l=a,c=u));var h,p=99999;for(o in n.agents)a=n.agents[o],a.id!==f&&(u=t.dist(a,r),u<r.attackRange&&u<p&&(h=a,p=u));h&&(s.attack={x:h.x,y:h.y});var d=r.dir,v=t.rnd(4),m=t.rnd(3),y=t.rnd(3);if(l)if(t.rnd(2)){u=t.dist(r,l),v=1;var b=t.ang(r,l);d=Math.round(b/45)}else v=1,m=0;return m||(d=r.dir+y-1),s.dir=d,s.walk=v?1:0,s}})(this.exports||this)